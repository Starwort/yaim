{"version":3,"sources":["assets/extra_icons/unmaximise.svg","components/AppBar.tsx","components/DrawerAdjust.tsx","components/FileTree.tsx","i18n.ts","components/LanguageDialogue.tsx","assets/extra_icons/dark_mode.svg","assets/extra_icons/light_mode.svg","components/NavigationDrawer.tsx","components/AppFrame.tsx","components/Centred.tsx","misc.ts","components/KeyRow.tsx","components/KeyGroup.tsx","components/NamespaceContent.tsx","components/ProjectSettings.tsx","prototype_mods.ts","themes/common_theme_data.ts","themes/dark.ts","themes/light.ts","themes/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["_path","_path2","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgUnmaximise","_ref","svgRef","title","titleId","props","xmlns","height","viewBox","width","fill","ref","id","d","ForwardRef","Unmaximise","SvgIcon","component","unmaximiseIcon","ipcRenderer","isElectron","window","require","undefined","AppBar","setDrawerOpen","drawerOpen","React","useState","maximised","setMaximised","useEffect","on","position","className","Toolbar","IconButton","edge","color","style","marginRight","onClick","Typography","variant","flexGrow","send","Minimize","Maximize","Close","DrawerAdjust","theme","useTheme","matches","useMediaQuery","breakpoints","up","paddingLeft","active","transition","children","t","i18n","extractData","directory","a","async","rv","entries","namespace","handle","kind","JSON","getFile","text","replace","parse","flatten","data","values","push","innerKey","loadI18nData","showDirectoryPicker","dir","loaded","master","masterKeys","namespaces","langs","unsaved","name","contents","lang","i18nData","setI18nData","queryPermission","mode","requestPermission","console","warn","alert","hadProblems","langDir","getDirectoryHandle","create","error","ns","fromEntries","filter","value","getFileHandle","file","createWritable","writeableStream","write","stringify","close","FileTree","saveCallback","useTranslation","createNamespace","useCallback","loadedI18nData","newNS","useLocation","pathname","addListener","saveErrors","saveSuccess","removeListener","errors","params","saveData","ListItem","button","Link","to","selected","ListItemIcon","Settings","ListItemText","map","Folder","Add","Save","availableLocalisations","LanguageDialogue","Dialog","open","PaperProps","DialogTitle","textAlign","List","setLang","primary","use","Backend","LanguageDetector","initReactI18next","init","backend","loadPath","fallbackLng","debug","process","interpolation","escapeValue","react","transSupportBasicHtmlNodes","transKeepBasicHtmlNodesFor","supportedLngs","defaultNS","_rect","SvgDarkMode","enableBackground","SvgLightMode","DarkModeIcon","darkModeIcon","LightModeIcon","lightModeIcon","DrawerContent","onSelect","setTheme","setLangOpen","newTheme","Language","NavigationDrawer","container","document","body","Hidden","smUp","Drawer","anchor","direction","onClose","setOpen","xsDown","AppFrame","startOpen","langOpen","changeLanguage","useStyles","createUseStyles","base","display","top","alignItems","vcentre","bottom","left","justifyContent","hcentre","right","Centred","verticalAlign","horizontalAlign","classes","VERT_OPTIONS","centre","HOR_OPTIONS","getGroup","groups","groupName","KeyRow","transKey","collapsed","setCollapsed","Translate","ExpandLess","ExpandMore","Collapse","in","unmountOnExit","Box","p","Grid","spacing","item","xs","sm","lg","xl","TextField","multiline","fullWidth","label","onChange","event","md","Button","startIcon","DeleteForever","makeStyles","createStyles","nested","KeyGroup","keyError","expanded","setExpanded","keyDialogueOpen","setKeyDialogueOpen","keyGroupDialogueOpen","setKeyGroupDialogueOpen","newKey","setNewKey","myGroups","useMemo","newKeyIsValid","nsKeys","groupData","test","FolderOpen","disablePadding","sort","maxWidth","autoFocus","helperText","onKeyPress","ev","preventDefault","disabled","NamespaceContent","useParams","history","useHistory","newName","setNewName","flatKeys","nsExists","includes","updateNSName","newNamespaces","Card","CardContent","InputProps","endAdornment","InputAdornment","Done","complete","parts","split","group","getKeyValue","CircularProgress","toFixed","root","flexWrap","listStyle","padding","margin","backgroundColor","chip","disallowedPaths","RegExp","r","join","flags","ProjectSettings","langError","addDialogueOpen","setAddDialogueOpen","newLangCode","setNewLangCode","newLangIsValid","Paper","Chip","icon","onDelete","String","capitalise","charAt","toUpperCase","slice","Array","rotated","by","concat","rotate","splice","count","elem","commonProps","MuiTextField","MuiSelect","MuiFormControl","MuiDialogTitle","createTheme","palette","type","main","contrastText","secondary","background","paper","default","hint","zIndex","appBar","overrides","MuiAppBar","colorPrimary","colorSecondary","colorDefault","MuiDrawer","MuiCard","borderWidth","borderColor","borderStyle","MuiCardHeader","paddingBottom","MuiListItemIcon","dark","light","themes","defaultSettings","App","localStorage","settings","setSettingsImpl","getTheme","ThemeProvider","CssBaseline","classList","add","setSettings","setTimeout","remove","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","fallback","getElementById"],"mappings":"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","file":"static/js/main.58127efa.chunk.js","sourcesContent":["var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUnmaximise(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#FFFFFF\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3V4zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2h2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2h-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3v-2zM18 8H6v8h12V8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUnmaximise);\nexport default __webpack_public_path__ + \"static/media/unmaximise.f6babe2b.svg\";\nexport { ForwardRef as ReactComponent };","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {AppBar as TopAppBar, IconButton, SvgIcon, Toolbar, Typography} from '@material-ui/core';\nimport {Close, Maximize, Minimize} from '@material-ui/icons';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport isElectron from 'is-electron';\nimport React, {useEffect} from 'react';\nimport {ReactComponent as unmaximiseIcon} from '../assets/extra_icons/unmaximise.svg';\n\nfunction Unmaximise() {\n    return <SvgIcon component={unmaximiseIcon} />;\n}\n\nconst {ipcRenderer} = isElectron() ? window.require('electron') : {ipcRenderer: undefined};\n\ninterface AppBarProps {\n    setDrawerOpen: (value: boolean) => void;\n    drawerOpen: boolean;\n    title: string;\n}\n\nexport function AppBar({setDrawerOpen, drawerOpen, title}: AppBarProps) {\n    const [maximised, setMaximised] = React.useState(true);\n    useEffect(\n        () => {\n            if (isElectron()) {\n                ipcRenderer.on('maximise', () => setMaximised(true));\n                ipcRenderer.on('unmaximise', () => setMaximised(false));\n            }\n        },\n        [],\n    );\n    return (\n        <>\n            <TopAppBar position=\"fixed\" className=\"drag\">\n                <Toolbar>\n                    <IconButton\n                        className=\"no-drag\"\n                        edge=\"start\"\n                        color=\"inherit\"\n                        aria-label=\"menu\"\n                        style={{marginRight: 16}}\n                        onClick={() => setDrawerOpen(!drawerOpen)}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\">\n                        {title}\n                    </Typography>\n                    <div style={{flexGrow: 1}} />\n                    {isElectron() && <>\n                        <IconButton\n                            className=\"no-drag\"\n                            edge=\"end\"\n                            color=\"inherit\"\n                            aria-label=\"minimise\"\n                            onClick={() => ipcRenderer.send('minimise')}\n                        >\n                            <Minimize />\n                        </IconButton>\n                        {maximised ?\n                            <IconButton\n                                className=\"no-drag\"\n                                edge=\"end\"\n                                color=\"inherit\"\n                                aria-label=\"unmaximise\"\n                                onClick={() => {setMaximised(false); ipcRenderer.send('unmaximise');}}\n                            >\n                                <Unmaximise />\n                            </IconButton>\n                            : <IconButton\n                                className=\"no-drag\"\n                                edge=\"end\"\n                                color=\"inherit\"\n                                aria-label=\"maximise\"\n                                onClick={() => {setMaximised(true); ipcRenderer.send('maximise');}}\n                            >\n                                <Maximize />\n                            </IconButton>\n                        }\n                        <IconButton\n                            className=\"no-drag\"\n                            edge=\"end\"\n                            color=\"inherit\"\n                            aria-label=\"close\"\n                            onClick={() => ipcRenderer.send('close')}\n                        >\n                            <Close />\n                        </IconButton>\n                    </>}\n                </Toolbar>\n            </TopAppBar>\n            <Toolbar />\n        </>\n    );\n}\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {useMediaQuery, useTheme} from '@material-ui/core';\nimport React from 'react';\n\ninterface DrawerAdjustProps {\n    active: boolean;\n    children: React.ReactNode;\n}\nexport function DrawerAdjust(props: DrawerAdjustProps) {\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up('sm'));\n    return (\n        <div style={{paddingLeft: 240 * (+props.active) * (+matches), transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms'}}>\n            {props.children}\n        </div>\n    );\n}\n","/* Copyright (c) 2021 Starwort\r\n *\r\n * This copyright notice may not be removed from this source code file as\r\n * all rights are reserved by the original author.\r\n *\r\n * This file is part of YAIM.\r\n *\r\n * YAIM is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * YAIM is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\r\n */\r\nimport {ListItem, ListItemIcon, ListItemText} from \"@material-ui/core\";\r\nimport {Add, Close, Folder, Save, Settings} from \"@material-ui/icons\";\r\nimport i18n from 'i18next';\r\nimport isElectron from \"is-electron\";\r\nimport {useCallback, useEffect} from \"react\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {Link, useLocation} from 'react-router-dom';\r\nimport type {I18nData, I18nRoot, LoadedI18nRoot, Namespaces} from \"../misc\";\r\n\r\nconst {t} = i18n;\r\n\r\nasync function extractData(directory: FileSystemDirectoryHandle): Promise<Namespaces> {\r\n    let rv: Namespaces = {};\r\n    for await (let [namespace, handle] of directory.entries()) {\r\n        if (handle.kind !== 'file') {\r\n            continue;\r\n        }\r\n        rv[namespace.replace(/\\.json$/, '')] = JSON.parse(await (await handle.getFile()).text());\r\n    }\r\n    return rv;\r\n}\r\n\r\nexport function flatten(data: I18nData): string[] {\r\n    let rv = [];\r\n    for (let [key, values] of Object.entries(data)) {\r\n        if (typeof values === 'string') {\r\n            rv.push(key);\r\n        } else {\r\n            for (let innerKey of flatten(values)) {\r\n                rv.push(`${key}.${innerKey}`);\r\n            }\r\n        }\r\n    }\r\n    return rv;\r\n}\r\n// export function unFlatten(data: FlatI18nData): NestedI18nData {\r\n//     let rv: NestedI18nData = {};\r\n//     for (let [key, value] of Object.entries(data)) {\r\n//         let dest = rv;\r\n//         for (let part of key.split('.').slice(0, -1)) {\r\n//             if (!(part in dest)) {\r\n//                 dest[part] = {};\r\n//             }\r\n//             dest = dest[part] as NestedI18nData;\r\n//         }\r\n//         dest[key.split('.').at(-1)] = value;\r\n//     }\r\n//     return rv;\r\n// }\r\n\r\nasync function loadI18nData(): Promise<I18nRoot> {\r\n    let dir: FileSystemDirectoryHandle;\r\n    try {\r\n        dir = await window.showDirectoryPicker();\r\n    } catch {\r\n        return {\r\n            loaded: false,\r\n        };\r\n    }\r\n    let data: LoadedI18nRoot = {\r\n        loaded: true,\r\n        data: {},\r\n        master: 'en',\r\n        masterKeys: {},\r\n        namespaces: [],\r\n        langs: [],\r\n        unsaved: false,\r\n    };\r\n    let master: string | undefined;\r\n    for await (let [name, contents] of dir.entries()) {\r\n        if (contents.kind !== 'directory') {\r\n            continue;\r\n        }\r\n        if (master === undefined) {\r\n            master = name;\r\n        }\r\n        data.langs.push(name);\r\n        data.data[name] = await extractData(contents);\r\n    }\r\n    if (master !== undefined) {\r\n        data.namespaces = Object.keys(data.data[master]);\r\n        data.master = master;\r\n        data.masterKeys = data.data[master];\r\n        for (let lang of data.langs) {\r\n            for (let namespace of data.namespaces) {\r\n                data.data[lang][namespace] = data.data[lang][namespace] ?? {};\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\nasync function saveData(i18nData: LoadedI18nRoot, setI18nData: (i18nData: I18nRoot) => void) {\r\n    let dir: FileSystemDirectoryHandle;\r\n    try {\r\n        dir = await window.showDirectoryPicker();\r\n        if (await dir.queryPermission({mode: 'readwrite'}) !== 'granted') {\r\n            if (await dir.requestPermission({mode: 'readwrite'}) !== 'granted') {\r\n                console.warn(t('core:save.warn.no_permission'));\r\n                alert(t('core:save.warn.alert'));\r\n                return;\r\n            }\r\n        }\r\n    } catch {\r\n        return;\r\n    }\r\n    let hadProblems = false;\r\n    for (let lang of i18nData.langs) {\r\n        let langDir: FileSystemDirectoryHandle;\r\n        try {\r\n            langDir = await dir.getDirectoryHandle(lang, {create: true});\r\n        } catch (error) {\r\n            console.warn(t('core:save.warn.language_fail', {lang, error}));\r\n            hadProblems = true;\r\n            continue;\r\n        }\r\n        for (let ns of i18nData.namespaces) {\r\n            let data = Object.fromEntries(\r\n                Object.entries(i18nData.data[lang][ns]).filter(\r\n                    ([key, value]) => (key in i18nData.masterKeys[ns] && value)\r\n                )\r\n            );\r\n            try {\r\n                let file = await langDir.getFileHandle(`${ns}.json`, {create: true});\r\n                let writeableStream = await file.createWritable();\r\n                await writeableStream.write(JSON.stringify(data));\r\n                await writeableStream.close();\r\n            } catch (error) {\r\n                console.warn(t('core:save.warn.namespace_fail', {lang, ns, error}));\r\n                hadProblems = true;\r\n            }\r\n        }\r\n    }\r\n    if (hadProblems) {\r\n        alert(t('core:save.warn.alert'));\r\n    } else {\r\n        setI18nData({...i18nData, unsaved: false});\r\n    }\r\n}\r\n\r\nconst {ipcRenderer} = isElectron() ? window.require('electron') : {ipcRenderer: undefined};\r\n\r\ninterface FileTreeProps {\r\n    i18nData: I18nRoot;\r\n    setI18nData: (value: I18nRoot) => void;\r\n}\r\nexport function FileTree({i18nData, setI18nData}: FileTreeProps) {\r\n    const {t} = useTranslation('core');\r\n    let saveCallback: () => void;\r\n    const createNamespace = useCallback(\r\n        () => {\r\n            const loadedI18nData = {...i18nData, unsaved: true} as LoadedI18nRoot;\r\n            let newNS = t('core:new.namespace');\r\n            if (newNS in loadedI18nData.namespaces) {\r\n                for (let i = 0; ; i++) {\r\n                    if (!(`${newNS}_${i}` in loadedI18nData.namespaces)) {\r\n                        newNS = `${newNS}_${i}`;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            loadedI18nData.namespaces.push(newNS);\r\n            for (let lang of loadedI18nData.langs) {\r\n                loadedI18nData.data[lang][newNS] = {};\r\n            }\r\n            setI18nData(loadedI18nData);\r\n        },\r\n        [i18nData, setI18nData, t],\r\n    );\r\n    const {pathname} = useLocation();\r\n    const loaded = pathname.replace(/^\\//, '');\r\n    useEffect(\r\n        () => {\r\n            if (!isElectron()) {\r\n                return;\r\n            }\r\n            function saveErrors(errors: [string, any][]) {\r\n                for (let [error, params] of errors) {\r\n                    console.warn(t(error, params));\r\n                }\r\n                alert(t('core:save.warn.alert'));\r\n            }\r\n            function saveSuccess() {\r\n                if (!i18nData.loaded) {\r\n                    return;\r\n                }\r\n                setI18nData({...i18nData, unsaved: false});\r\n            }\r\n            ipcRenderer.addListener('saveErrors', saveErrors);\r\n            ipcRenderer.addListener('saveSuccess', saveSuccess);\r\n            return () => {\r\n                ipcRenderer.removeListener('saveErrors', saveErrors);\r\n                ipcRenderer.removeListener('saveSuccess', saveSuccess);\r\n            };\r\n        },\r\n        [setI18nData, i18nData, t],\r\n    );\r\n    if (!i18nData.loaded) {\r\n        return <ListItem\r\n            button\r\n            onClick={async () => setI18nData(await loadI18nData())}\r\n        >\r\n            <ListItemIcon><Add /></ListItemIcon>\r\n            <ListItemText>{t('core:sidebar.load_data')}</ListItemText>\r\n        </ListItem>;\r\n    }\r\n    if (isElectron()) {\r\n        saveCallback = () => ipcRenderer.send('triggerSave', i18nData);\r\n    } else {\r\n        saveCallback = () => saveData(i18nData, setI18nData);\r\n    }\r\n    return <>\r\n        <ListItem\r\n            button\r\n            component={Link}\r\n            to='/'\r\n            selected={!loaded}\r\n        >\r\n            <ListItemIcon>\r\n                <Settings />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {t('core:sidebar.project_settings')}\r\n            </ListItemText>\r\n        </ListItem>\r\n        {i18nData.namespaces.map(namespace => <ListItem\r\n            button\r\n            component={Link}\r\n            key={namespace}\r\n            to={namespace}\r\n            selected={namespace === loaded}\r\n        >\r\n            <ListItemIcon>\r\n                <Folder />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {namespace}\r\n            </ListItemText>\r\n        </ListItem>)}\r\n        <ListItem button onClick={createNamespace}>\r\n            <ListItemIcon>\r\n                <Add />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {t('core:sidebar.create_namespace')}\r\n            </ListItemText>\r\n        </ListItem>\r\n        {i18nData.unsaved && <ListItem button onClick={saveCallback}>\r\n            <ListItemIcon>\r\n                <Save />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {t('core:sidebar.save_project')}\r\n            </ListItemText>\r\n        </ListItem>}\r\n        <ListItem button onClick={() => setI18nData({loaded: false})}>\r\n            <ListItemIcon>\r\n                <Close />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {t('core:sidebar.close_project')}\r\n            </ListItemText>\r\n        </ListItem>\r\n    </>;\r\n}\r\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\nimport {initReactI18next} from 'react-i18next';\n\nexport const availableLocalisations = ['en', 'keys'];\n\nconst jaCharMap: Record<string, string> = {\n    '0': '',\n    '1': '',\n    '2': '',\n    '3': '',\n    '4': '',\n    '5': '',\n    '6': '',\n    '7': '',\n    '8': '',\n    '9': '',\n    'a': '',\n    'b': '',\n    'c': '',\n    'd': '',\n    'e': '',\n    'f': '',\n};\nexport const numberFormatters: Record<string, (value: number | string) => string> = {\n    'en': (value) => value.toString(),\n    'fr': (value) => value.toString(),\n    'ja': (value) => value.toString().replace(/[012456789abcdef]/g, (m) => jaCharMap[m]),\n};\n\ni18n.use(Backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        backend: {loadPath: './assets/i18n/{{lng}}/{{ns}}.json'},\n        fallbackLng: 'en',\n        debug: process.env.NODE_ENV === 'development',\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n        react: {\n            transSupportBasicHtmlNodes: true,\n            transKeepBasicHtmlNodesFor: ['br', 'big', 'small', 'ruby', 'rt'],\n        },\n        supportedLngs: availableLocalisations,\n        ns: 'core',\n        defaultNS: 'core',\n    });\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {Dialog, DialogTitle, List, ListItem, ListItemText} from \"@material-ui/core\";\nimport {useTranslation} from \"react-i18next\";\nimport {availableLocalisations} from \"../i18n\";\n\ninterface LanguageDialogueProps {\n    open: boolean;\n    setLang: (lang: string) => void;\n}\n\nexport function LanguageDialogue(props: LanguageDialogueProps) {\n    const {t} = useTranslation('core');\n    return <Dialog aria-labelledby=\"lang-dialogue-title\" open={props.open} PaperProps={{style: {width: 250}}}>\n        <DialogTitle style={{textAlign: 'center'}} id=\"lang-dialogue-title\">{t('core:lang.choose')}</DialogTitle>\n        <List>\n            {availableLocalisations.map(lang =>\n                <ListItem key={lang} style={{textAlign: 'center'}} button onClick={() => props.setLang(lang)}>\n                    <ListItemText primary={t(`core:lang.${lang}`)} />\n                </ListItem>\n            )}\n        </List>\n    </Dialog>;\n}\n","var _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDarkMode(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#FFFFFF\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    height: 24,\n    width: 24\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26 c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDarkMode);\nexport default __webpack_public_path__ + \"static/media/dark_mode.da756c1c.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLightMode(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#FFFFFF\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    height: 24,\n    width: 24\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41 l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLightMode);\nexport default __webpack_public_path__ + \"static/media/light_mode.473f1754.svg\";\nexport { ForwardRef as ReactComponent };","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {Drawer, Hidden, ListItem, ListItemIcon, ListItemText, SvgIcon, Toolbar, useTheme} from '@material-ui/core';\nimport {Language} from '@material-ui/icons';\nimport {useTranslation} from 'react-i18next';\nimport {ReactComponent as darkModeIcon} from '../assets/extra_icons/dark_mode.svg';\nimport {ReactComponent as lightModeIcon} from '../assets/extra_icons/light_mode.svg';\nimport {ThemeName} from '../themes';\n\nfunction DarkModeIcon() {\n    return <SvgIcon component={darkModeIcon} />;\n}\nfunction LightModeIcon() {\n    return <SvgIcon component={lightModeIcon} />;\n}\ninterface DrawerContentProps {\n    onSelect?: () => void;\n    setTheme: (theme: ThemeName) => void;\n    setLangOpen: (value: boolean) => void;\n    children: React.ReactNode;\n}\nfunction DrawerContent({\n    onSelect,\n    setTheme,\n    setLangOpen,\n    children,\n}: DrawerContentProps) {\n    const {t} = useTranslation('core');\n    const theme = useTheme();\n    const newTheme: ThemeName = theme.name === 'dark' ? 'light' : 'dark';\n    return <>\n        {children}\n        <div style={{flexGrow: 1}} />\n        <ListItem button onClick={() => {setLangOpen(true); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                <Language />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.lang')} />\n        </ListItem>\n        <ListItem button onClick={() => {setTheme(newTheme); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                {\n                    newTheme === 'dark'\n                        ? <DarkModeIcon />\n                        : <LightModeIcon />\n                }\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.theme')} />\n        </ListItem>\n    </>;\n}\n\ninterface NavigationDrawerProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n    setTheme: (theme: ThemeName) => void;\n    setLangOpen: (value: boolean) => void;\n    children: React.ReactNode;\n}\n\n\nexport function NavigationDrawer(props: NavigationDrawerProps) {\n    const theme = useTheme();\n    const container = window !== undefined ? () => window.document.body : undefined;\n    return <>\n        <Hidden smUp>\n            <Drawer\n                variant=\"temporary\"\n                container={container}\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={props.open}\n                onClose={() => props.setOpen(false)}\n            >\n                <DrawerContent\n                    onSelect={() => props.setOpen(false)}\n                    setTheme={props.setTheme}\n                    setLangOpen={props.setLangOpen}\n                >\n                    {props.children}\n                </DrawerContent>\n            </Drawer>\n        </Hidden>\n        <Hidden xsDown>\n            <Drawer\n                variant=\"persistent\"\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={props.open}\n            >\n                <Toolbar />\n                <DrawerContent\n                    setTheme={props.setTheme}\n                    setLangOpen={props.setLangOpen}\n                >\n                    {props.children}\n                </DrawerContent>\n            </Drawer>\n        </Hidden>\n    </>;\n}\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {useMediaQuery, useTheme} from '@material-ui/core';\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {I18nRoot} from '../misc';\nimport {ThemeName} from '../themes';\nimport {AppBar} from './AppBar';\nimport {DrawerAdjust} from './DrawerAdjust';\nimport {FileTree} from './FileTree';\nimport {LanguageDialogue} from './LanguageDialogue';\nimport {NavigationDrawer} from './NavigationDrawer';\n\n\ninterface AppFrameProps {\n    setTheme: (value: ThemeName) => void;\n    children: React.ReactNode;\n    i18nData: I18nRoot;\n    setI18nData: (value: I18nRoot) => void;\n}\nexport function AppFrame({setTheme, children, i18nData, setI18nData}: AppFrameProps) {\n    const theme = useTheme();\n    const startOpen = useMediaQuery(theme.breakpoints.up('lg'));\n    const [drawerOpen, setDrawerOpen] = React.useState(false);\n    React.useEffect(() => {\n        setDrawerOpen(startOpen);\n    }, [startOpen]);\n    const {t, i18n} = useTranslation('core');\n    const [langOpen, setLangOpen] = React.useState(false);\n    return (\n        <>\n            <AppBar\n                setDrawerOpen={setDrawerOpen}\n                drawerOpen={drawerOpen}\n                title={\n                    t('core:title')\n                }\n            />\n            <NavigationDrawer\n                open={drawerOpen}\n                setOpen={setDrawerOpen}\n                setTheme={setTheme}\n                setLangOpen={setLangOpen}\n            >\n                <FileTree i18nData={i18nData} setI18nData={setI18nData} />\n            </NavigationDrawer>\n            <LanguageDialogue open={langOpen} setLang={(value: string) => {\n                i18n.changeLanguage(value);\n                setLangOpen(false);\n            }} />\n            <DrawerAdjust active={drawerOpen}>\n                {children}\n            </DrawerAdjust>\n        </>\n    );\n}\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {createUseStyles} from 'react-jss';\n\ninterface CentredProps {\n    children: React.ReactNode;\n    verticalAlign?: 'top' | 'centre' | 'bottom';\n    horizontalAlign?: 'left' | 'centre' | 'right';\n}\n\nconst useStyles = createUseStyles({\n    base: {\n        display: 'flex',\n        height: '100%',\n        width: '100%',\n    },\n    top: {\n        alignItems: 'flex-start',\n    },\n    vcentre: {\n        alignItems: 'center',\n    },\n    bottom: {\n        alignItems: 'flex-end',\n    },\n    left: {\n        justifyContent: 'flex-start',\n    },\n    hcentre: {\n        justifyContent: 'center',\n    },\n    right: {\n        justifyContent: 'flex-end',\n    },\n});\n\nexport function Centred({children, verticalAlign, horizontalAlign}: CentredProps) {\n    const classes = useStyles();\n    const VERT_OPTIONS = {\n        top: classes.top,\n        centre: classes.vcentre,\n        bottom: classes.bottom,\n    };\n    const HOR_OPTIONS = {\n        left: classes.left,\n        centre: classes.hcentre,\n        right: classes.right,\n    };\n    return <div className={classes.base + ' ' + VERT_OPTIONS[verticalAlign ?? 'centre'] + ' ' + HOR_OPTIONS[horizontalAlign ?? 'centre']}>\n        {children}\n    </div>;\n}\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\n\nexport type Dict<V> = {\n    [key: string]: V;\n};\nvar _getTextWidthDiv: HTMLDivElement;\nfunction setUpDiv() {\n    _getTextWidthDiv = document.createElement(\"div\");\n    _getTextWidthDiv.style.position = 'absolute';\n    _getTextWidthDiv.style.top = '-9999px';\n    _getTextWidthDiv.style.left = '-9999px';\n    // _getTextWidthDiv.ariaHidden = true;\n    document.body.appendChild(_getTextWidthDiv);\n    return _getTextWidthDiv;\n}\nexport function getTextWidth(text: string) {\n    var div = _getTextWidthDiv ?? (setUpDiv());\n    div.innerText = text;\n    return div.clientWidth;\n}\n\nexport const root = '/';\nexport function getDefault<T>(data: string | undefined, defaultValue: T) {\n    if (data !== undefined) {\n        return JSON.parse(data) as T;  // todo: figure out how to type-check this\n    } else {\n        return defaultValue;\n    }\n}\nexport function valueOr(data: String | undefined, defaultValue: number) {\n    let rv = data ? +data : defaultValue;\n    if (!isNaN(rv)) {\n        return rv;\n    } else {\n        return defaultValue;\n    }\n}\nexport function booleanOr(data: String | undefined, defaultValue: boolean) {\n    switch (data) {\n        case 'true':\n            return true;\n        case 'false':\n            return false;\n        default:\n            return defaultValue;\n    }\n}\n\nexport function range(start: number, stop: number | undefined = undefined, step: number = 1): Array<number> {\n    if (stop === undefined) {\n        stop = start;\n        start = 0;\n        if (step === 1) {  // benefit from optimisation where I don't use two-arg range\n            return Array.from(Array(stop).keys());\n        }\n    }\n    return Array(\n        Math.ceil((stop! - start) / step)\n    ).fill(start).map((x, y) => x + y * step);\n}\n\nexport function all(values: boolean[]) {\n    return values.reduce((res, valid) => (res && valid), true);\n}\nexport function any(values: boolean[]) {\n    return values.reduce((res, valid) => (res || valid), false);\n}\n\nexport type DeepPartial<T> = {\n    [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P];\n};\nexport function clone<T>(obj: T): T {\n    return JSON.parse(JSON.stringify(obj));\n}\nexport type Tuple<T extends unknown[]> = [...T];\nexport type SoA<T extends unknown[]> = {[I in keyof T]: T[I][]};\nexport function* zip<T extends unknown[]>(...arrays: SoA<T>) {\n    if (arrays.length < 1) {\n        return;\n    }\n    for (let i = 0; i < arrays.reduce((minLength, nextArr) => {\n        let len = nextArr.length;\n        return Math.min(minLength, len);\n    }, Infinity); i++) {\n        yield arrays.map((arr) => arr[i]) as Tuple<T>;\n    }\n}\n\nexport type Filter<T, V> = {\n    [P in keyof T]: T[P] extends V ? never : T[P];\n};\n\nexport function fsum(input: Array<number>) {\n    // a translation of NeumaierSum\n    // source: https://en.wikipedia.org/wiki/Kahan_summation_algorithm#Further_enhancements\n    let sum = 0;\n    let c = 0;  // A running compensation for lost low-order bits.\n    for (let value of input) {\n        let t = sum + value;\n        if (Math.abs(sum) >= Math.abs(value)) {\n            c += (sum - t) + value;  // If sum is bigger, low-order digits of value are lost\n        } else {\n            c += (value - t) + sum;  // Else low-order digits of sum are lost.\n        }\n        sum = t;\n    }\n    return sum + c;  // Correction only applied once in the very end.\n}\nexport function useRerender() {\n    const [, setTick] = React.useState(0);\n    const update = React.useCallback(() => {\n        setTick(tick => tick + 1);\n    }, []);\n    return update;\n}\n\nexport type LoadedI18nRoot = {\n    loaded: true;\n    unsaved: boolean;\n    langs: string[];\n    master: string;\n    masterKeys: Namespaces;\n    namespaces: string[];\n    data: Record<string, Namespaces>;\n};\ntype UnloadedI18nRoot = {\n    loaded: false;\n};\n\nexport function getGroup(data: I18nData, groups: string[]): I18nData {\n    for (let groupName of groups) {\n        if (!(groupName in data)) {\n            data[groupName] = {};\n        }\n        data = data[groupName] as I18nData;\n    }\n    return data;\n}\n\nexport type I18nRoot = LoadedI18nRoot | UnloadedI18nRoot;\n\nexport type Namespaces = Record<string, I18nData>;\n\nexport type I18nData = {\n    [key: string]: I18nData | string;\n};\n\nexport function getKeyValue(data: I18nData, key: string): string | undefined {\n    const parts = key.split('.');\n    let group: I18nData = data;\n    for (let part of parts) {\n        group = group[part] as I18nData;\n        if (group === undefined) {\n            return undefined;\n        }\n    }\n    return group as any as string;\n}\n\n// type LoadedFileTreeFolder = {\n//     loaded: true;\n//     tree: {\n//         [fileName: string]: FileTree;\n//     };\n// };\n// type LoadedFileTreeFile = {\n//     loaded: true;\n//     keys: string[];\n//     unsavedChanges: boolean;\n//     lang: string;\n//     content: I18nData;\n// };\n// type UnloadedFileTree = {\n//     loaded: false;\n// };\n\n// export type FileTree = (\n//     UnloadedFileTree\n//     | LoadedFileTreeFolder\n//     | LoadedFileTreeFile\n// );\n","import {Box, Button, Collapse, Grid, ListItem, ListItemIcon, ListItemText, TextField} from \"@material-ui/core\";\r\nimport {DeleteForever, ExpandLess, ExpandMore, Translate} from \"@material-ui/icons\";\r\nimport {useState} from \"react\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {getGroup, I18nRoot, LoadedI18nRoot} from \"../misc\";\r\nimport {Centred} from \"./Centred\";\r\n\r\ninterface KeyRowProps {\r\n    i18nData: LoadedI18nRoot;\r\n    setI18nData: (value: I18nRoot) => void;\r\n    transKey: string;\r\n    namespace: string;\r\n    groups: string[];\r\n    className?: string;\r\n}\r\nexport default function KeyRow({groups, i18nData, setI18nData, transKey, namespace, className}: KeyRowProps) {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n    const {t} = useTranslation('core');\r\n    return <>\r\n        <ListItem button onClick={() => setCollapsed(collapsed => !collapsed)} className={className}>\r\n            <ListItemIcon>\r\n                <Translate />\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {transKey}\r\n            </ListItemText>\r\n            {collapsed ? <ExpandLess /> : <ExpandMore />}\r\n        </ListItem>\r\n        <Collapse in={collapsed} className={className} unmountOnExit>\r\n            <Box p={2}>\r\n                <Grid container spacing={2}>\r\n                    {i18nData.langs.map(\r\n                        lang => <Grid item xs={12} sm={6} lg={4} xl={3} key={lang}>\r\n                            <TextField\r\n                                multiline\r\n                                fullWidth\r\n                                value={\r\n                                    getGroup(i18nData.data[lang][namespace], groups)[transKey]\r\n                                }\r\n                                label={t('core:key_row.translation_for', {lang})}\r\n                                onChange={\r\n                                    (event) => {\r\n                                        getGroup(i18nData.data[lang][namespace], groups)[transKey] = event.target.value;\r\n                                        setI18nData({\r\n                                            ...i18nData,\r\n                                            unsaved: true,\r\n                                        });\r\n                                    }\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                    )}\r\n                    <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                        <Centred>\r\n                            <Button\r\n                                startIcon={<DeleteForever />}\r\n                                onClick={() => {\r\n                                    delete getGroup(i18nData.masterKeys[namespace], groups)[transKey];\r\n                                    setI18nData({\r\n                                        ...i18nData,\r\n                                        unsaved: true,\r\n                                    });\r\n                                }}\r\n                            >\r\n                                {t('core:key_row.delete')}\r\n                            </Button>\r\n                        </Centred>\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n        </Collapse>\r\n    </>;\r\n}","import {Button, Collapse, Dialog as Dialogue, DialogActions as DialogueActions, DialogContent as DialogueContent, DialogTitle as DialogueTitle, List, ListItem, ListItemIcon, ListItemText, TextField} from \"@material-ui/core\";\r\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\r\nimport {Add, DeleteForever, ExpandLess, ExpandMore, Folder, FolderOpen} from \"@material-ui/icons\";\r\nimport {useMemo, useState} from \"react\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {getGroup, I18nData, I18nRoot, LoadedI18nRoot} from \"../misc\";\r\nimport KeyRow from \"./KeyRow\";\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        nested: {\r\n            paddingLeft: theme.spacing(4),\r\n        },\r\n    }),\r\n);\r\n\r\ninterface KeyGroupProps {\r\n    i18nData: LoadedI18nRoot;\r\n    setI18nData: (value: I18nRoot) => void;\r\n    groupName: string;\r\n    namespace: string;\r\n    groups: string[];\r\n    className?: string;\r\n}\r\nexport default function KeyGroup({groups, i18nData, setI18nData, groupName, namespace, className}: KeyGroupProps) {\r\n    const {t} = useTranslation('core');\r\n    const [expanded, setExpanded] = useState(false);\r\n    const [keyDialogueOpen, setKeyDialogueOpen] = useState(false);\r\n    const [keyGroupDialogueOpen, setKeyGroupDialogueOpen] = useState(false);\r\n    const [newKey, setNewKey] = useState<string>(t('core:new.key'));\r\n    const {nested} = useStyles();\r\n    const myGroups = useMemo(\r\n        () => [...groups, groupName],\r\n        [groups, groupName],\r\n    );\r\n    let newKeyIsValid = true, keyError: string | undefined;\r\n    let nsKeys = i18nData.masterKeys[namespace];\r\n    const groupKeys = useMemo(\r\n        () => getGroup(nsKeys, groups),\r\n        [groups, nsKeys],\r\n    );\r\n    const groupData = groupKeys[groupName] as I18nData;\r\n    if (/^\\s*$/.test(newKey)) {\r\n        newKeyIsValid = false;\r\n        keyError = t('core:namespace.error.key_empty');\r\n    } else if (newKey in groupData) {\r\n        newKeyIsValid = false;\r\n        keyError = t('core:namespace.error.key_exists');\r\n    } else if (/\\./.test(newKey)) {\r\n        newKeyIsValid = false;\r\n        keyError = t('core:namespace.error.key_has_dot');\r\n    }\r\n    return <>\r\n        <ListItem button onClick={() => setExpanded(expanded => !expanded)} className={className}>\r\n            <ListItemIcon>\r\n                {expanded ? <FolderOpen /> : <Folder />}\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {groupName}\r\n            </ListItemText>\r\n            {expanded ? <ExpandLess /> : <ExpandMore />}\r\n        </ListItem>\r\n        <Collapse in={expanded} className={className} unmountOnExit>\r\n            <List component=\"div\" disablePadding>\r\n                {Object.entries(groupData).sort(\r\n                    ([keyA,], [keyB,]) => keyA < keyB ? -1 : 1\r\n                ).map(\r\n                    ([key, values]) =>\r\n                        typeof values === 'string' ? <KeyRow\r\n                            groups={myGroups}\r\n                            i18nData={i18nData}\r\n                            setI18nData={setI18nData}\r\n                            namespace={namespace}\r\n                            key={key}\r\n                            transKey={key}\r\n                            className={nested}\r\n                        /> :\r\n                            <KeyGroup\r\n                                groups={myGroups}\r\n                                i18nData={i18nData}\r\n                                setI18nData={setI18nData}\r\n                                namespace={namespace}\r\n                                key={key}\r\n                                groupName={key}\r\n                                className={nested}\r\n                            />\r\n                )}\r\n                <ListItem\r\n                    button\r\n                    onClick={() => setKeyDialogueOpen(true)}\r\n                >\r\n                    <ListItemIcon>\r\n                        <Add />\r\n                    </ListItemIcon>\r\n                    <ListItemText>\r\n                        {t('core:namespace.label.add_key')}\r\n                    </ListItemText>\r\n                </ListItem>\r\n                <ListItem\r\n                    button\r\n                    onClick={() => setKeyGroupDialogueOpen(true)}\r\n                >\r\n                    <ListItemIcon>\r\n                        <Add />\r\n                    </ListItemIcon>\r\n                    <ListItemText>\r\n                        {t('core:namespace.label.add_group')}\r\n                    </ListItemText>\r\n                </ListItem>\r\n                <ListItem\r\n                    button\r\n                    onClick={() => {\r\n                        delete getGroup(i18nData.masterKeys[namespace], groups)[groupName];\r\n                        setI18nData({\r\n                            ...i18nData,\r\n                            unsaved: true,\r\n                        });\r\n                    }}\r\n                >\r\n                    <ListItemIcon>\r\n                        <DeleteForever />\r\n                    </ListItemIcon>\r\n                    <ListItemText>\r\n                        {t('core:key_group.delete')}\r\n                    </ListItemText>\r\n                </ListItem>\r\n            </List>\r\n        </Collapse>\r\n        <Dialogue\r\n            open={keyDialogueOpen}\r\n            onClose={() => setKeyDialogueOpen(false)}\r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n        >\r\n            <DialogueTitle>{t('core:namespace.add_key.title')}</DialogueTitle>\r\n            <DialogueContent>\r\n                <TextField\r\n                    autoFocus\r\n                    label={t('core:namespace.add_key.label.input')}\r\n                    error={!newKeyIsValid}\r\n                    helperText={keyError ?? t('core:namespace.add_key.label.help')}\r\n                    fullWidth\r\n                    value={newKey}\r\n                    onChange={(event) => setNewKey(event.target.value)}\r\n                    onKeyPress={(ev) => {\r\n                        if (ev.key === 'Enter') {\r\n                            setKeyDialogueOpen(false);\r\n                            getGroup(i18nData.masterKeys[namespace], myGroups)[newKey] = '';\r\n                            setI18nData({\r\n                                ...i18nData,\r\n                                unsaved: true,\r\n                            });\r\n                            setNewKey(t('core:new.key'));\r\n                            ev.preventDefault();\r\n                        }\r\n                    }}\r\n                />\r\n            </DialogueContent>\r\n            <DialogueActions>\r\n                <Button onClick={() => {\r\n                    setKeyDialogueOpen(false);\r\n                    setNewKey(t('core:new.key'));\r\n                }}>\r\n                    {t('core:button.cancel')}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        setKeyDialogueOpen(false);\r\n                        getGroup(i18nData.masterKeys[namespace], myGroups)[newKey] = '';\r\n                        setI18nData({\r\n                            ...i18nData,\r\n                            unsaved: true,\r\n                        });\r\n                        setNewKey(t('core:new.key'));\r\n                    }}\r\n                    disabled={!newKeyIsValid}\r\n                >\r\n                    {t('core:button.confirm')}\r\n                </Button>\r\n            </DialogueActions>\r\n        </Dialogue>\r\n        <Dialogue\r\n            open={keyGroupDialogueOpen}\r\n            onClose={() => setKeyGroupDialogueOpen(false)}\r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n        >\r\n            <DialogueTitle>{t('core:namespace.add_group.title')}</DialogueTitle>\r\n            <DialogueContent>\r\n                <TextField\r\n                    autoFocus\r\n                    label={t('core:namespace.add_key.label.input')}\r\n                    error={!newKeyIsValid}\r\n                    helperText={keyError ?? t('core:namespace.add_key.label.help')}\r\n                    fullWidth\r\n                    value={newKey}\r\n                    onChange={(event) => setNewKey(event.target.value)}\r\n                    onKeyPress={(ev) => {\r\n                        if (ev.key === 'Enter') {\r\n                            setKeyGroupDialogueOpen(false);\r\n                            getGroup(i18nData.masterKeys[namespace], myGroups)[newKey] = {};\r\n                            setI18nData({\r\n                                ...i18nData,\r\n                                unsaved: true,\r\n                            });\r\n                            setNewKey(t('core:new.key'));\r\n                            ev.preventDefault();\r\n                        }\r\n                    }}\r\n                />\r\n            </DialogueContent>\r\n            <DialogueActions>\r\n                <Button onClick={() => {\r\n                    setKeyGroupDialogueOpen(false);\r\n                    setNewKey(t('core:new.key'));\r\n                }}>\r\n                    {t('core:button.cancel')}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        setKeyGroupDialogueOpen(false);\r\n                        getGroup(i18nData.masterKeys[namespace], myGroups)[newKey] = {};\r\n                        setI18nData({\r\n                            ...i18nData,\r\n                            unsaved: true,\r\n                        });\r\n                        setNewKey(t('core:new.key'));\r\n                    }}\r\n                    disabled={!newKeyIsValid}\r\n                >\r\n                    {t('core:button.confirm')}\r\n                </Button>\r\n            </DialogueActions>\r\n        </Dialogue>\r\n    </>;\r\n}","import {Box, Button, Card, CardContent, CircularProgress, Dialog as Dialogue, DialogActions as DialogueActions, DialogContent as DialogueContent, DialogTitle as DialogueTitle, Grid, IconButton, InputAdornment, List, ListItem, ListItemIcon, ListItemText, TextField, Typography} from \"@material-ui/core\";\r\nimport {Add, DeleteForever, Done} from \"@material-ui/icons\";\r\nimport {useEffect, useMemo, useState} from \"react\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {getKeyValue, I18nRoot, LoadedI18nRoot} from \"../misc\";\r\nimport {Centred} from \"./Centred\";\r\nimport {flatten} from './FileTree';\r\nimport KeyGroup from \"./KeyGroup\";\r\nimport KeyRow from \"./KeyRow\";\r\n\r\ninterface NamespaceContentProps {\r\n    i18nData: LoadedI18nRoot;\r\n    setI18nData: (value: I18nRoot) => void;\r\n}\r\nexport default function NamespaceContent({i18nData, setI18nData}: NamespaceContentProps) {\r\n    const {namespace} = useParams<{namespace: string;}>();\r\n    const history = useHistory();\r\n    const {t} = useTranslation('core');\r\n    const [newName, setNewName] = useState(namespace);\r\n    const [keyDialogueOpen, setKeyDialogueOpen] = useState(false);\r\n    const [keyGroupDialogueOpen, setKeyGroupDialogueOpen] = useState(false);\r\n    const [newKey, setNewKey] = useState<string>(t('core:new.key'));\r\n    let newKeyIsValid = true, keyError: string | undefined;\r\n    const flatKeys = useMemo(\r\n        () => flatten(i18nData.masterKeys[namespace]),\r\n        [i18nData.masterKeys, namespace],\r\n    );\r\n    if (/^\\s*$/.test(newKey)) {\r\n        newKeyIsValid = false;\r\n        keyError = t('core:namespace.error.key_empty');\r\n    } else if (newKey in i18nData.masterKeys[namespace]) {\r\n        newKeyIsValid = false;\r\n        keyError = t('core:namespace.error.key_exists');\r\n    } else if (/\\./.test(newKey)) {\r\n        newKeyIsValid = false;\r\n        keyError = t('core:namespace.error.key_has_dot');\r\n    }\r\n    const nsExists = namespace !== newName && i18nData.namespaces.includes(newName);\r\n    useEffect(\r\n        () => setNewName(namespace),\r\n        [namespace],\r\n    );\r\n    const updateNSName = () => {\r\n        if (newName === namespace || nsExists) {\r\n            return;\r\n        }\r\n        let newNamespaces = i18nData.data;\r\n        for (let namespaces of Object.values(newNamespaces)) {\r\n            namespaces[newName] = namespaces[namespace];\r\n            delete namespaces[namespace];\r\n        }\r\n        setI18nData({...i18nData, data: newNamespaces, namespaces: Object.keys(newNamespaces[i18nData.master])});\r\n        history.replace(`/${newName}`);\r\n    };\r\n    const removeNS = () => {\r\n        let newNamespaces = i18nData.data;\r\n        for (let namespaces of Object.values(newNamespaces)) {\r\n            delete namespaces[namespace];\r\n        }\r\n        setI18nData({...i18nData, data: newNamespaces, namespaces: Object.keys(newNamespaces[i18nData.master])});\r\n        history.replace('/');\r\n    };\r\n    return <>\r\n        <Card>\r\n            <CardContent>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            label={t('core:namespace.label.name')}\r\n                            value={newName}\r\n                            onChange={\r\n                                (event) => setNewName(event.target.value)\r\n                            }\r\n                            error={nsExists}\r\n                            helperText={nsExists ? t('core:namespace.error.name_exists') : ''}\r\n                            onKeyPress={(ev) => {\r\n                                if (ev.key === 'Enter') {\r\n                                    updateNSName();\r\n                                    ev.preventDefault();\r\n                                }\r\n                            }}\r\n                            fullWidth\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        style={{color: nsExists ? undefined : 'green'}}\r\n                                        onClick={updateNSName}\r\n                                        disabled={nsExists}\r\n                                    >\r\n                                        <Done />\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <Centred>\r\n                            <Button\r\n                                startIcon={<DeleteForever />}\r\n                                onClick={removeNS}\r\n                            >\r\n                                {t('core:namespace.label.delete')}\r\n                            </Button>\r\n                        </Centred>\r\n                    </Grid>\r\n                </Grid>\r\n                <Box p={2}>\r\n                    <Centred>\r\n                        <Typography variant=\"h5\" component=\"h2\">\r\n                            {t('core:namespace.label.completion')}\r\n                        </Typography>\r\n                    </Centred>\r\n                    <Grid container spacing={2}>\r\n                        {i18nData.langs.map(lang => {\r\n                            const complete = 100 * flatKeys.filter(\r\n                                key => getKeyValue(i18nData.data[lang][namespace], key)\r\n                            ).length / flatKeys.length;\r\n                            return <Grid item xs={12} sm={6} md={2} xl={1} key={lang}>\r\n                                <Centred>\r\n                                    {lang}:\r\n                                    <Box position=\"relative\" display=\"inline-flex\" p={1}>\r\n                                        <CircularProgress variant=\"determinate\" value={complete} />\r\n                                        <Box\r\n                                            top={0}\r\n                                            left={0}\r\n                                            bottom={0}\r\n                                            right={0}\r\n                                            position=\"absolute\"\r\n                                            display=\"flex\"\r\n                                            alignItems=\"center\"\r\n                                            justifyContent=\"center\"\r\n                                        >\r\n                                            <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\r\n                                                {complete.toFixed(0)}%\r\n                                            </Typography>\r\n                                        </Box>\r\n                                    </Box>\r\n                                </Centred>\r\n                            </Grid>;\r\n                        })}\r\n                    </Grid>\r\n                </Box>\r\n            </CardContent>\r\n            <List>\r\n                {Object.entries(i18nData.masterKeys[namespace]).sort(\r\n                    ([keyA,], [keyB,]) => keyA < keyB ? -1 : 1\r\n                ).map(\r\n                    ([key, value]) => typeof value === 'string'\r\n                        ? <KeyRow\r\n                            key={key}\r\n                            i18nData={i18nData}\r\n                            setI18nData={setI18nData}\r\n                            transKey={key}\r\n                            namespace={namespace}\r\n                            groups={[]}\r\n                        />\r\n                        : <KeyGroup\r\n                            key={key}\r\n                            groupName={key}\r\n                            i18nData={i18nData}\r\n                            setI18nData={setI18nData}\r\n                            namespace={namespace}\r\n                            groups={[]}\r\n                        />\r\n                )}\r\n                <ListItem button onClick={() => setKeyDialogueOpen(true)}>\r\n                    <ListItemIcon>\r\n                        <Add />\r\n                    </ListItemIcon>\r\n                    <ListItemText>\r\n                        {t('core:namespace.label.add_key')}\r\n                    </ListItemText>\r\n                </ListItem>\r\n                <ListItem button onClick={() => setKeyGroupDialogueOpen(true)}>\r\n                    <ListItemIcon>\r\n                        <Add />\r\n                    </ListItemIcon>\r\n                    <ListItemText>\r\n                        {t('core:namespace.label.add_group')}\r\n                    </ListItemText>\r\n                </ListItem>\r\n            </List>\r\n        </Card>\r\n        <Dialogue\r\n            open={keyDialogueOpen}\r\n            onClose={() => setKeyDialogueOpen(false)}\r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n        >\r\n            <DialogueTitle>{t('core:namespace.add_key.title')}</DialogueTitle>\r\n            <DialogueContent>\r\n                <TextField\r\n                    autoFocus\r\n                    label={t('core:namespace.add_key.label.input')}\r\n                    error={!newKeyIsValid}\r\n                    helperText={keyError ?? t('core:namespace.add_key.label.help')}\r\n                    fullWidth\r\n                    value={newKey}\r\n                    onChange={(event) => setNewKey(event.target.value)}\r\n                    onKeyPress={(ev) => {\r\n                        if (ev.key === 'Enter') {\r\n                            setKeyDialogueOpen(false);\r\n                            setI18nData({\r\n                                ...i18nData,\r\n                                masterKeys: {\r\n                                    ...i18nData.masterKeys,\r\n                                    [namespace]: {\r\n                                        ...i18nData.masterKeys[namespace],\r\n                                        [newKey]: ''\r\n                                    },\r\n                                },\r\n                                unsaved: true,\r\n                            });\r\n                            setNewKey(t('core:new.key'));\r\n                            ev.preventDefault();\r\n                        }\r\n                    }}\r\n                />\r\n            </DialogueContent>\r\n            <DialogueActions>\r\n                <Button onClick={() => {\r\n                    setKeyDialogueOpen(false);\r\n                    setNewKey(t('core:new.key'));\r\n                }}>\r\n                    {t('core:button.cancel')}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        setKeyDialogueOpen(false);\r\n                        setI18nData({\r\n                            ...i18nData,\r\n                            masterKeys: {\r\n                                ...i18nData.masterKeys,\r\n                                [namespace]: {\r\n                                    ...i18nData.masterKeys[namespace],\r\n                                    [newKey]: ''\r\n                                },\r\n                            },\r\n                            unsaved: true,\r\n                        });\r\n                        setNewKey(t('core:new.key'));\r\n                    }}\r\n                    disabled={!newKeyIsValid}\r\n                >\r\n                    {t('core:button.confirm')}\r\n                </Button>\r\n            </DialogueActions>\r\n        </Dialogue>\r\n        <Dialogue\r\n            open={keyGroupDialogueOpen}\r\n            onClose={() => setKeyGroupDialogueOpen(false)}\r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n        >\r\n            <DialogueTitle>{t('core:namespace.add_group.title')}</DialogueTitle>\r\n            <DialogueContent>\r\n                <TextField\r\n                    autoFocus\r\n                    label={t('core:namespace.add_key.label.input')}\r\n                    error={!newKeyIsValid}\r\n                    helperText={keyError ?? t('core:namespace.add_key.label.help')}\r\n                    fullWidth\r\n                    value={newKey}\r\n                    onChange={(event) => setNewKey(event.target.value)}\r\n                    onKeyPress={(ev) => {\r\n                        if (ev.key === 'Enter') {\r\n                            setKeyGroupDialogueOpen(false);\r\n                            setI18nData({\r\n                                ...i18nData,\r\n                                masterKeys: {\r\n                                    ...i18nData.masterKeys,\r\n                                    [namespace]: {\r\n                                        ...i18nData.masterKeys[namespace],\r\n                                        [newKey]: {}\r\n                                    },\r\n                                },\r\n                                unsaved: true,\r\n                            });\r\n                            setNewKey(t('core:new.key'));\r\n                            ev.preventDefault();\r\n                        }\r\n                    }}\r\n                />\r\n            </DialogueContent>\r\n            <DialogueActions>\r\n                <Button onClick={() => {\r\n                    setKeyGroupDialogueOpen(false);\r\n                    setNewKey(t('core:new.key'));\r\n                }}>\r\n                    {t('core:button.cancel')}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        setKeyGroupDialogueOpen(false);\r\n                        setI18nData({\r\n                            ...i18nData,\r\n                            masterKeys: {\r\n                                ...i18nData.masterKeys,\r\n                                [namespace]: {\r\n                                    ...i18nData.masterKeys[namespace],\r\n                                    [newKey]: {}\r\n                                },\r\n                            },\r\n                            unsaved: true,\r\n                        });\r\n                        setNewKey(t('core:new.key'));\r\n                    }}\r\n                    disabled={!newKeyIsValid}\r\n                >\r\n                    {t('core:button.confirm')}\r\n                </Button>\r\n            </DialogueActions>\r\n        </Dialogue>\r\n    </>;\r\n}","import {Button, Card, CardContent, Chip, Dialog as Dialogue, DialogActions as DialogueActions, DialogContent as DialogueContent, DialogTitle as DialogueTitle, Paper, TextField} from \"@material-ui/core\";\r\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\r\nimport {Add} from \"@material-ui/icons\";\r\nimport {useState} from \"react\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport {I18nRoot, LoadedI18nRoot} from \"../misc\";\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            flexWrap: 'wrap',\r\n            listStyle: 'none',\r\n            padding: theme.spacing(0.5),\r\n            margin: 0,\r\n            backgroundColor: '#282828',\r\n        },\r\n        chip: {\r\n            margin: theme.spacing(0.5),\r\n        },\r\n    }),\r\n);\r\n\r\nconst disallowedPaths = new RegExp([\r\n    /[<>:\"/\\\\|?*]|/, // illegal characters\r\n    /^CON|^PRN|^AUX|^NUL|/, // reserved names part 1\r\n    /^COM[1-9]|^LPT[1-9]|/, // reserved names part 2\r\n    // eslint-disable-next-line\r\n    /[\\x00-\\x1F]|^\\s*$/, // control and whitespace characters\r\n].map(r => r.source).join(''), / /i.flags);\r\n\r\ninterface ProjectSettingsProps {\r\n    i18nData: LoadedI18nRoot;\r\n    setI18nData: (value: I18nRoot) => void;\r\n}\r\nexport default function ProjectSettings({i18nData, setI18nData}: ProjectSettingsProps) {\r\n    const classes = useStyles();\r\n    const [addDialogueOpen, setAddDialogueOpen] = useState(false);\r\n    const {t} = useTranslation('core');\r\n    const [newLangCode, setNewLangCode] = useState<string>(t('core:new.lang'));\r\n    let newLangIsValid: boolean = true, langError: string | undefined;\r\n    if (newLangCode === '') {\r\n        newLangIsValid = false;\r\n        langError = t('core:project.error.lang_empty');\r\n    } else if (i18nData.langs.includes(newLangCode)) {\r\n        newLangIsValid = false;\r\n        langError = t('core:project.error.lang_exists');\r\n    } else if (disallowedPaths.test(newLangCode)) {\r\n        newLangIsValid = false;\r\n        langError = t('core:project.error.bad_path');\r\n    }\r\n    return <>\r\n        <Card>\r\n            <CardContent>\r\n                <Paper component=\"ul\" className={classes.root}>\r\n                    {i18nData.langs.map(\r\n                        lang => <li key={lang}>\r\n                            <Chip\r\n                                icon={undefined}\r\n                                label={lang}\r\n                                onDelete={lang === i18nData.master\r\n                                    ? undefined\r\n                                    : () => setI18nData({\r\n                                        ...i18nData,\r\n                                        langs: i18nData.langs.filter(item => item !== lang),\r\n                                    })\r\n                                }\r\n                                className={classes.chip}\r\n                                color={lang === i18nData.master ? 'primary' : undefined}\r\n                                onClick={lang === i18nData.master ? undefined : () => {\r\n                                    let data = {...i18nData};\r\n                                    data.namespaces = Object.keys(data.data[lang]);\r\n                                    data.master = lang;\r\n                                    data.masterKeys = data.data[lang];\r\n                                    for (let lang of data.langs) {\r\n                                        for (let namespace of data.namespaces) {\r\n                                            data.data[lang][namespace] = data.data[lang][namespace] ?? {};\r\n                                        }\r\n                                    }\r\n                                    setI18nData(data);\r\n                                }}\r\n                            />\r\n                        </li>\r\n                    )}\r\n                    <li>\r\n                        <Chip\r\n                            icon={<Add />}\r\n                            label={t('core:project.add_lang.chip')}\r\n                            className={classes.chip}\r\n                            onClick={() => setAddDialogueOpen(true)}\r\n                        />\r\n                    </li>\r\n                </Paper>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialogue\r\n            open={addDialogueOpen}\r\n            onClose={() => setAddDialogueOpen(false)}\r\n            maxWidth=\"sm\"\r\n            fullWidth\r\n        >\r\n            <DialogueTitle>{t('core:project.add_lang.label.title')}</DialogueTitle>\r\n            <DialogueContent>\r\n                <TextField\r\n                    autoFocus\r\n                    label={t('core:project.add_lang.label.input')}\r\n                    error={!newLangIsValid}\r\n                    helperText={langError ?? t('core:project.add_lang.label.help')}\r\n                    fullWidth\r\n                    value={newLangCode}\r\n                    onChange={(event) => setNewLangCode(event.target.value)}\r\n                />\r\n            </DialogueContent>\r\n            <DialogueActions>\r\n                <Button onClick={() => {\r\n                    setAddDialogueOpen(false);\r\n                    setNewLangCode(t('core:new.lang'));\r\n                }}>\r\n                    {t('core:button.cancel')}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        setAddDialogueOpen(false);\r\n                        setI18nData({\r\n                            ...i18nData,\r\n                            data: {\r\n                                ...i18nData.data,\r\n                                [newLangCode]: Object.fromEntries(\r\n                                    Object.keys(\r\n                                        i18nData.data[i18nData.master]\r\n                                    ).map(key => [key, {}])\r\n                                ),\r\n                            },\r\n                            langs: [\r\n                                ...i18nData.langs,\r\n                                newLangCode,\r\n                            ],\r\n                            unsaved: true,\r\n                        });\r\n                        setNewLangCode(t('core:new.lang'));\r\n                    }}\r\n                    disabled={!newLangIsValid}\r\n                >\r\n                    {t('core:button.confirm')}\r\n                </Button>\r\n            </DialogueActions>\r\n        </Dialogue>\r\n    </>;\r\n};","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {ThemeName} from \"./themes\";\n\ndeclare global {\n    interface String {\n        capitalise: () => String;\n    }\n    interface Array<T> {\n        rotated: (by: number) => Array<T>;\n        rotate: (by: number) => Array<T>;\n        count: (elem: T) => number;\n        at: (pos: number) => T;\n    }\n}\n// eslint-disable-next-line no-extend-native\nString.prototype.capitalise = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n};\n// eslint-disable-next-line no-extend-native\nArray.prototype.rotated = function (by: number) {\n    by = by % this.length;\n    return this.slice(by, this.length).concat(this.slice(0, by));\n};\n// eslint-disable-next-line no-extend-native\nArray.prototype.rotate = function (by: number) {\n    by = by % this.length;\n    while (this.length && by < 0) by += this.length;\n    this.push.apply(this, this.splice(0, by));\n    return this;\n};\n// eslint-disable-next-line no-extend-native\nArray.prototype.count = function (elem) {\n    return this.filter(item => item === elem).length;\n};\n\ndeclare module \"@material-ui/core/styles/createTheme\" {\n    interface Theme {\n        name: ThemeName;\n    }\n}\n\nexport {};\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {ComponentsProps} from \"@material-ui/core/styles/props\";\n\nconst commonProps: ComponentsProps = {\n    MuiTextField: {\n        variant: 'filled',\n    },\n    MuiSelect: {\n        variant: 'filled',\n    },\n    MuiFormControl: {\n        variant: 'filled',\n    },\n    MuiDialogTitle: {\n        style: {textAlign: 'center'},\n    }\n};\nexport {commonProps};\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {createTheme} from '@material-ui/core/styles';\nimport '../prototype_mods';\nimport {commonProps} from './common_theme_data';\n\n\n// Dark theme\nconst theme = createTheme({\n    palette: {\n        type: 'dark',\n        primary: {\n            main: '#bb86fc',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        secondary: {\n            main: '#03dac6',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        error: {\n            main: '#cf6679',\n        },\n        background: {\n            paper: '#1e1e1e',\n            default: '#121212'\n        },\n        text: {\n            primary: 'rgba(255,255,255,87%)',\n            secondary: 'rgba(255,255,255,60%)',\n            hint: 'rgba(255,255,255,60%)',\n            disabled: 'rgba(255,255,255,38%)',\n        }\n    },\n    zIndex: {\n        appBar: 1250\n    },\n    props: commonProps,\n});\n\ntheme.overrides = {\n    MuiAppBar: {\n        colorPrimary: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.primary.main,\n        },\n        colorSecondary: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.secondary.main,\n        },\n        colorDefault: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.text.primary,\n        }\n    },\n    MuiDrawer: {\n        paper: {\n            width: 240\n        }\n    },\n    MuiCard: {\n        root: {\n            borderWidth: 1,\n            borderColor: 'rgba(255, 255, 255, 8%)',\n            borderStyle: 'solid',\n        },\n    },\n    MuiCardHeader: {\n        root: {\n            paddingBottom: 0,\n            textAlign: 'center',\n        },\n    },\n    MuiListItemIcon: {\n        root: {\n            color: theme.palette.text.secondary,\n        }\n    }\n};\n\nexport default theme;\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {createTheme} from '@material-ui/core/styles';\nimport '../prototype_mods';\nimport {commonProps} from './common_theme_data';\n\n// Normal or default theme\nconst theme = createTheme({\n    palette: {\n        type: 'light',\n        primary: {\n            main: '#6200ee',\n            contrastText: 'rgba(255,255,255,87%)',\n        },\n        secondary: {\n            main: '#03dac6',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        error: {\n            main: '#b00020',\n        },\n        background: {\n            paper: '#ffffff',\n            default: '#eeeeee'\n        },\n        text: {\n            primary: 'rgba(0,0,0,87%)',\n            secondary: 'rgba(0,0,0,60%)',\n            hint: 'rgba(0,0,0,60%)',\n            disabled: 'rgba(0,0,0,38%)',\n        }\n    },\n    zIndex: {\n        appBar: 1250\n    },\n    props: commonProps,\n});\n\ntheme.overrides = {\n    MuiDrawer: {\n        paper: {\n            width: 240\n        }\n    },\n    MuiCard: {\n        root: {\n            borderWidth: 1,\n            borderColor: 'transparent',\n            borderStyle: 'solid',\n        },\n    },\n    MuiCardHeader: {\n        root: {\n            paddingBottom: 0,\n            textAlign: 'center',\n        },\n    },\n};\n\nexport default theme;\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport dark from './dark';\nimport light from './light';\n\ndark.name = 'dark';\nlight.name = 'light';\n\nconst themes = {\n    light,\n    dark,\n};\n\nexport type ThemeName = keyof typeof themes;\n\nexport default function getTheme(theme: ThemeName) {\n    return themes[theme];\n}\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {Box, CssBaseline, ThemeProvider} from \"@material-ui/core\";\nimport {useMemo, useState} from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\nimport {AppFrame} from \"./components/AppFrame\";\nimport {Centred} from \"./components/Centred\";\nimport NamespaceContent from \"./components/NamespaceContent\";\nimport ProjectSettings from \"./components/ProjectSettings\";\nimport {I18nRoot} from \"./misc\";\nimport getTheme, {ThemeName} from \"./themes\";\n\nexport type Settings = {\n    theme: ThemeName;\n};\nexport const defaultSettings: Settings = {\n    theme: 'dark',\n};\n\nfunction App() {\n    if (!window.localStorage.settings) {\n        window.localStorage.settings = JSON.stringify(defaultSettings);\n    }\n    const [settings, setSettingsImpl] = useState<Settings>(() => JSON.parse(window.localStorage.settings));\n    function setSettings(value: Settings) {\n        window.localStorage.settings = JSON.stringify(value);\n        setSettingsImpl(value);\n    }\n    function setTheme(value: 'dark' | 'light') {\n        document.body.classList.add(\"no-transition\");\n        setSettings({...settings, theme: value});\n        // document.body.classList.remove(\"no-transition\");\n        setTimeout(() => document.body.classList.remove(\"no-transition\"), 10);\n    }\n    const theme = useMemo(\n        () => getTheme(settings.theme),\n        [settings]\n    );\n    const [i18nData, setI18nData] = useState<I18nRoot>({loaded: false});\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <AppFrame i18nData={i18nData} setI18nData={setI18nData} setTheme={setTheme}>\n                {i18nData.loaded && <Centred>\n                    <Box width='75%' p={2}>\n                        <Switch>\n                            <Route path='/' exact>\n                                <ProjectSettings i18nData={i18nData} setI18nData={setI18nData} />\n                            </Route>\n                            <Route path='/:namespace'>\n                                <NamespaceContent i18nData={i18nData} setI18nData={setI18nData} />\n                            </Route>\n                        </Switch>\n                    </Box>\n                </Centred>}\n            </AppFrame>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/* Copyright (c) 2021 Starwort\n *\n * This copyright notice may not be removed from this source code file as\n * all rights are reserved by the original author.\n *\n * This file is part of YAIM.\n *\n * YAIM is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * YAIM is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with YAIM. If not, see <https://www.gnu.org/licenses/>.\n */\nimport {Suspense} from 'react';\nimport ReactDOM from 'react-dom';\nimport {MemoryRouter} from 'react-router-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <Suspense fallback={<div>Loading...</div>}>\n        <MemoryRouter>\n            <App />\n        </MemoryRouter>\n    </Suspense>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}